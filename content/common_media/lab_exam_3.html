<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lab Exam 3</title>

</head>
<body>


    <h2>Lab Exam #3</h2>

    <p>
        In this lab you will build the display for the game that you started in the PreLab. To accomplish
        this you will use the the
        <a href="https://phaser.io/tutorials/making-your-first-phaser-3-game/index">phaser.io</a>
        library/game framework. A quick look at this tutorial will help you get an idea of the structure of the game
        will build. Since this is only a 55 minute lab, all of the functions you will need from Phaser are
        given in the instructions on this page so it is not required to study the documentation thoroughly
    </p>

    <p>Use the following HTML and JavaScript function to test your code and see your game:</p>
    <pre>
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Let's Make a Game&lt;/title&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"&gt;&lt;/script&gt;
    &lt;script src="game.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body onload="startGame();"&gt;

&lt;div id="game"&gt;&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
    <hr/>
    <p>
        Then add this function in your game.js file:
    </p>
    <pre>
function startGame() {
    new Phaser.Game(config);
}
</pre>

    <hr/>
    <h3>Part A (40 points) - Setting up the Game</h3>


    <p>
        Setup the structure for the game project by completing the following:
    </p>

    <ul>
        <li>Create a new JavaScript file named "game.js". All of your code for this lab will go in this file</li>
        <li>Create a function named preload() with an empty body
            <ul>
                <li>This function is called by Phaser before your game starts. In this function you will load all the
                    multimedia for the game (Only images for this lab)
                </li>
            </ul>
        </li>
        <li>Create a function named create() with an empty body
            <ul>
                <li>This function is called by Phaser to start your game. In this function you will setup all the game elements including displaying the map</li>
            </ul>
        </li>
        <li>Create a function named update() with an empty body
            <ul>
                <li>This function is called by Phaser on every frame while your game runs. This function controls your
                    game after it starts. For this lab we will leave this function blank
                </li>
            </ul>
        </li>
        <li>Create an object outside of any functions named "config" that will configure the Phaser game. Set the
            key-value pairs of this object to:
            <ul>
                <li>Key "type" with the value Phaser.AUTO</li>
                <li>Key "width" with the value 160</li>
                <li>Key "height" with the value 160</li>
                <li>Key "scene" with a value that is another object with the pairs
                    "preload" mapping to your preload function,
                    "create" mapping to your create function,
                    and "update" mapping to your update function. Do not call your functions. You are telling Phaser
                    what functions to call at the appropriate times as described above
                </li>
            </ul>
        </li>
    </ul>

    <h4>** DOWNLOAD YOUR project AS A ZIP FILE AND SUBMIT TO LabExam 03 **</h4>
    <hr/>
    <h3>Part B (20 points) - Pre-Loading Images</h3>


    <p>Download the 9 images for the game and preload them in your preload function (details below)</p>
    <p>
        Download Data: <a href="https://fury.cse.buffalo.edu/static/115-game-assets/assets.zip">assets.zip</a>
    </p>
    <p>
        If you have trouble unzipping the files you can download them individually here:
        <a href="https://fury.cse.buffalo.edu/static/115-game-assets/floor.png">floor.png</a>,
        <a href="https://fury.cse.buffalo.edu/static/115-game-assets/wall.png">wall.png</a>,
        <a href="https://fury.cse.buffalo.edu/static/115-game-assets/crystal.png">crystal.png</a>,
        <a href="https://fury.cse.buffalo.edu/static/115-game-assets/door.png">door.png</a>,
        <a href="https://fury.cse.buffalo.edu/static/115-game-assets/key.png">key.png</a>,
        <a href="https://fury.cse.buffalo.edu/static/115-game-assets/lava.png">lava.png</a>,
        <a href="https://fury.cse.buffalo.edu/static/115-game-assets/boots.png">boots.png</a>,
        <a href="https://fury.cse.buffalo.edu/static/115-game-assets/exit.png">exit.png</a>, and
        <a href="https://fury.cse.buffalo.edu/static/115-game-assets/player.png">player.png</a>
    </p>

    <p>
        Tiles Source: <a href="http://rltiles.sourceforge.net">http://rltiles.sourceforge.net</a>
    </p>

    <p>
        Download these images and then upload them into your project in Codenvy in the root directory (ie. all files
        for the project will got in the same folder as your code). You can upload files to Codenvy by clicking "Project" then
        "Upload File"
    </p>

    <p>
        Preload these images in your preload function. To do this you'll use the Phaser
        function "load.image". To save you from
        looking through documentation the call should be similar to
        <code>this.load.image(image_name, image_filename);</code> where image_name is any name you choose
        for this image (you can choose the name as long as you use the name when you need this image later in the lab)
        and
        image_filename is the name of the file for this image as a string. Once this function is called, that image
        will be available for use in your game. Preload all 9 images.
    </p>

    <h4>** DOWNLOAD YOUR project AS A ZIP FILE AND SUBMIT TO LabExam 03 **</h4>

    <hr/>

    <h3>Part C (20 points) - Displaying a Map</h3>


    <p>
        Display the map below using Phaser.io with a starting location for the player of [0, 3]
    </p>

    <pre>
var level = [
    [1, 1, 0, 1, 1],
    [3, 4, 0, 5, 7],
    [0, 0, 2, 6, 1],
    [0, 1, 0, 0, 0],
    [1, 2, 3, 5, 0]
];
    </pre>

    <p>Recall from the PreLab:</p>
    <table border="1">
        <tr>
            <td>0</td>
            <td>floor</td>
            <td>where the player can walk freely</td>
        </tr>
        <tr>
            <td>1</td>
            <td>wall</td>
            <td>the player cannot walk through walls</td>
        </tr>
        <tr>
            <td>2</td>
            <td>crystal</td>
            <td>increases the player's crystal count by 1 and turns this into a floor tile</td>
        </tr>
        <tr>
            <td>3</td>
            <td>locked door</td>
            <td>acts as a wall. If the player walks into this while they have a key the door will change to a floor tile
                and the player will lose/use one key
            </td>
        </tr>
        <tr>
            <td>4</td>
            <td>key</td>
            <td>increases the player's key count by 1 and turns this tile into a floor</td>
        </tr>
        <tr>
            <td>5</td>
            <td>lava</td>
            <td>kills the player unless the player collected the protective boots</td>
        </tr>
        <tr>
            <td>6</td>
            <td>boots</td>
            <td>collects the protective boots and turns this tile into a floor tile</td>
        </tr>
        <tr>
            <td>7</td>
            <td>exit</td>
            <td>acts as a wall. If the player collected every crystal on the map the player advances to the next level
            </td>
        </tr>
    </table>
    <br/>
    <p>
        To add an image to the game in phaser call the function "add.image" with the syntax
        <code>this.add.image(x, y, image_name);</code> where x and y are the coordinates of the center of the image
        in pixels and image_name is the image to add that matches the image_name used when you preloaded the image.
    </p>
    <p>
        The [x, y] coordinates are in the number of pixels the center of the image should be from the upper-left
        corner of the map and all the images are 32x32 pixels.
        This means that the image at [0, 0] on the grid, or level[0][0], is at the [x, y] point [16, 16] in pixels.
        As another example [0, 1] on the grid, or level[1][0], is at the [x, y] point [16, 48].
    </p>
    <ul>
        <li>
            Add all the images for the map by looping over the values in the level variable.
        </li>
        <li>Add the player image at the starting location which is [0, 3]. Be sure to add this last so it will
            be placed over the floor tile at that location.</li>

    </ul>


    <h4>** DOWNLOAD YOUR project AS A ZIP FILE AND SUBMIT TO LabExam 03 **</h4>




</body>
</html>
